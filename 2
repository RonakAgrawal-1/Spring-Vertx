import org.postgresql.r2dbc.PostgresqlConnectionConfiguration;
import org.postgresql.r2dbc.PostgresqlConnectionFactory;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.RequiredArgsConstructor;

@AllArgsConstructor
@RequiredArgsConstructor
@Builder
public class PostgresqlConnectionFactoryBuilder {

    private final String host;
    private final int port;
    private final String username;
    private final String password;
    private final String database;

    public org.postgresql.r2dbc.api.PostgresqlConnectionFactory build() {
        PostgresqlConnectionConfiguration config = PostgresqlConnectionConfiguration.builder()
                .host(host)
                .port(port)
                .username(username)
                .password(password)
                .database(database)
                .build();
        return new PostgresqlConnectionFactory(config);
    }
}
